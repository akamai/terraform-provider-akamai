provider "akamai" {
  edgerc = "../../common/testutils/edgerc"
}

data "akamai_property_rules_builder" "default" {
  rules_v2025_02_18 {
    name              = "default"
    advanced_override = "test"

    behavior {
      origin {
        cache_key_hostname            = "ORIGIN_HOSTNAME"
        compress                      = true
        enable_true_client_ip         = true
        forward_host_header           = "REQUEST_HOST_HEADER"
        http_port                     = 80
        https_port                    = 443
        origin_sni                    = true
        origin_type                   = "CUSTOMER"
        true_client_ip_client_setting = false
        true_client_ip_header         = "True-Client-IP"
        use_unique_cache_key          = false
        verification_mode             = "PLATFORM_SETTINGS"
        custom_certificate_authorities {
          subject_rdns {
            business_category       = "Technology"
            c                       = "US"
            cn                      = "DigiCert TLS RSA SHA256 2020 CA1"
            country_of_citizenship  = "US"
            country_of_residence    = "US"
            date_of_birth           = "1990-01-01"
            dc                      = "DigiCert Inc"
            description             = "Test description"
            dn_qualifier            = ""
            email_address           = "test@example.com"
            gender                  = "M"
            generation              = "II"
            givenname               = "John"
            initials                = "JD"
            jurisdiction_c          = "US"
            jurisdiction_l          = "New York"
            jurisdiction_st         = "NY"
            l                       = "New York"
            name                    = "John Doe"
            name_at_birth           = "John A. Doe"
            organization_identifier = "987654321"
            place_of_birth          = "Boston"
            postal_address          = "456 Elm St, NY"
            postal_code             = "10001"
            pseudonym               = "JDoe"
            role                    = "Engineer"
            serialnumber            = "123456789"
            st                      = "NY"
            street                  = "123 Main St"
            surname                 = "Doe"
            t                       = ""
            uid                     = "user123"
            unique_identifier       = "ABCDEF123456"
            unstructured_address    = ""
            unstructured_name       = ""
          }
          issuer_rdns {
            business_category       = "Technology"
            c                       = "US"
            cn                      = "DigiCert TLS RSA SHA256 2020 CA1"
            country_of_citizenship  = "US"
            country_of_residence    = "US"
            date_of_birth           = "1990-01-01"
            dc                      = "DigiCert Inc"
            description             = "Test description"
            dn_qualifier            = ""
            email_address           = "test@example.com"
            gender                  = "M"
            generation              = "II"
            givenname               = "John"
            initials                = "JD"
            jurisdiction_c          = "US"
            jurisdiction_l          = "New York"
            jurisdiction_st         = "NY"
            l                       = "New York"
            name                    = "John Doe"
            name_at_birth           = "John A. Doe"
            organization_identifier = "987654321"
            place_of_birth          = "Boston"
            postal_address          = "456 Elm St, NY"
            postal_code             = "10001"
            pseudonym               = "JDoe"
            role                    = "Engineer"
            serialnumber            = "123456789"
            st                      = "NY"
            street                  = "123 Main St"
            surname                 = "Doe"
            t                       = ""
            uid                     = "user123"
            unique_identifier       = "ABCDEF123456"
            unstructured_address    = ""
            unstructured_name       = ""
          }
        }
        custom_certificates {
          can_be_ca   = false
          can_be_leaf = true
          subject_rdns {
            business_category       = "Technology"
            c                       = "US"
            cn                      = "DigiCert TLS RSA SHA256 2020 CA1"
            country_of_citizenship  = "US"
            country_of_residence    = "US"
            date_of_birth           = "1990-01-01"
            dc                      = "DigiCert Inc"
            description             = "Test description"
            dn_qualifier            = ""
            email_address           = "test@example.com"
            gender                  = "M"
            generation              = "II"
            givenname               = "John"
            initials                = "JD"
            jurisdiction_c          = "US"
            jurisdiction_l          = "New York"
            jurisdiction_st         = "NY"
            l                       = "New York"
            name                    = "John Doe"
            name_at_birth           = "John A. Doe"
            organization_identifier = "987654321"
            place_of_birth          = "Boston"
            postal_address          = "456 Elm St, NY"
            postal_code             = "10001"
            pseudonym               = "JDoe"
            role                    = "Engineer"
            serialnumber            = "123456789"
            st                      = "NY"
            street                  = "123 Main St"
            surname                 = "Doe"
            t                       = ""
            uid                     = "user123"
            unique_identifier       = "ABCDEF123456"
            unstructured_address    = ""
            unstructured_name       = ""
          }
          issuer_rdns {
            business_category       = "Technology"
            c                       = "US"
            cn                      = "DigiCert TLS RSA SHA256 2020 CA1"
            country_of_citizenship  = "US"
            country_of_residence    = "US"
            date_of_birth           = "1990-01-01"
            dc                      = "DigiCert Inc"
            description             = "Test description"
            dn_qualifier            = ""
            email_address           = "test@example.com"
            gender                  = "M"
            generation              = "II"
            givenname               = "John"
            initials                = "JD"
            jurisdiction_c          = "US"
            jurisdiction_l          = "New York"
            jurisdiction_st         = "NY"
            l                       = "New York"
            name                    = "John Doe"
            name_at_birth           = "John A. Doe"
            organization_identifier = "987654321"
            place_of_birth          = "Boston"
            postal_address          = "456 Elm St, NY"
            postal_code             = "10001"
            pseudonym               = "JDoe"
            role                    = "Engineer"
            serialnumber            = "123456789"
            st                      = "NY"
            street                  = "123 Main St"
            surname                 = "Doe"
            t                       = ""
            uid                     = "user123"
            unique_identifier       = "ABCDEF123456"
            unstructured_address    = ""
            unstructured_name       = ""
          }
        }
      }
    }
  }
}